<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1600" height="900" viewBox="0 0 1600 900">
  <style>
    .title { font: 700 20px/1.2 'Helvetica Neue', Arial, sans-serif; fill: #111827 }
    .label { font: 600 12px/1.2 'Helvetica Neue', Arial, sans-serif; fill: #111827 }
    .small { font: 500 11px/1.1 'Helvetica Neue', Arial, sans-serif; fill: #374151 }
    .box { stroke: #111827; stroke-width: 0.6 }
    .muted { fill: #F3F4F6 }
    .frontend { fill: #2563EB; stroke: #1D4ED8 }
    .gateway { fill: #374151; stroke: #111827 }
    .service { fill: #6D28D9; stroke: #4C1D95 }
    .data { fill: #10B981; stroke: #059669 }
    .ai { fill: #7C3AED; stroke: #5B21B6 }
    .ops { fill: #F59E0B; stroke: #B45309 }
    .line { stroke: #111827; stroke-width: 2; marker-end: url(#arrow) }
    .dashed { stroke-dasharray: 6 6 }
    .legend-box { fill: #FFFFFF; stroke: #e5e7eb }
  </style>

  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto" markerUnits="strokeWidth">
      <path d="M0 0 L10 5 L0 10 z" fill="#111827" />
    </marker>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="#000000" flood-opacity="0.08" />
    </filter>
  </defs>

  <!-- Title -->
  <text x="40" y="36" class="title">PREPLINK Overall System Architecture</text>
  <text x="40" y="60" class="small">Four-tier microservices design with AI integration, alumni networking (NewLinkFolio), JWT authentication, RBAC, Kubernetes orchestration, and fault tolerance.</text>

  <!-- Left: Frontend -->
  <g transform="translate(60,110)">
    <rect x="0" y="0" width="300" height="160" rx="10" class="frontend" filter="url(#shadow)" />
    <text x="18" y="30" class="label" fill="#ffffff">React.js Frontend (SPA)</text>
    <text x="18" y="56" class="small" fill="#ffffff">Role-specific dashboards: Student / Faculty / Recruiter / Alumni</text>
    <text x="18" y="76" class="small" fill="#ffffff">NewLinkFolio portfolio & alumni networking</text>
    <text x="18" y="96" class="small" fill="#ffffff">Real-time notifications (WebSocket)</text>
    <!-- client icons -->
    <rect x="12" y="116" width="28" height="20" rx="3" fill="#ffffff" opacity="0.15" />
    <rect x="48" y="116" width="28" height="20" rx="3" fill="#ffffff" opacity="0.12" />
    <rect x="84" y="116" width="28" height="20" rx="3" fill="#ffffff" opacity="0.1" />
  </g>

  <!-- API Gateway -->
  <g transform="translate(400,120)">
    <rect x="0" y="0" width="260" height="110" rx="10" class="gateway" filter="url(#shadow)" />
    <text x="18" y="30" class="label" fill="#ffffff">API Gateway & Load Balancer</text>
    <text x="18" y="52" class="small" fill="#ffffff">SSL termination · Routing · Rate limiting</text>
    <text x="18" y="72" class="small" fill="#ffffff">Auth termination (JWT validation)</text>
  </g>

  <!-- Arrow from Frontend to Gateway -->
  <path d="M360 190 L400 190" class="line" />
  <text x="320" y="180" class="small">HTTPS / REST / WebSocket</text>

  <!-- Microservices cluster -->
  <g transform="translate(720,80)">
    <!-- cluster box -->
    <rect x="0" y="0" width="760" height="560" rx="14" fill="#ffffff" stroke="#e6e7eb" />
    <text x="16" y="28" class="label">Microservices (Kubernetes)</text>

    <!-- k8s icon -->
    <circle cx="700" cy="30" r="22" fill="#111827" />
    <text x="688" y="34" class="small" fill="#ffffff">k8s</text>

    <!-- Auth Service -->
    <rect x="18" y="54" width="220" height="70" rx="8" class="service" filter="url(#shadow)" />
    <text x="32" y="78" class="label" fill="#ffffff">Auth Service</text>
    <text x="32" y="98" class="small" fill="#ffffff">bcrypt · JWT issuance · Refresh tokens</text>

    <!-- User Service -->
    <rect x="260" y="54" width="220" height="70" rx="8" class="service" filter="url(#shadow)" />
    <text x="274" y="78" class="label" fill="#ffffff">User Service</text>
    <text x="274" y="98" class="small" fill="#ffffff">Profiles: students · faculty · recruiters · alumni</text>

    <!-- Placement Service -->
    <rect x="502" y="54" width="220" height="70" rx="8" class="service" filter="url(#shadow)" />
    <text x="516" y="78" class="label" fill="#ffffff">Placement Service</text>
    <text x="516" y="98" class="small" fill="#ffffff">Drives · Applications · Scheduling</text>

    <!-- Alumni / NewLinkFolio Service -->
    <rect x="18" y="150" width="320" height="70" rx="8" class="service" filter="url(#shadow)" />
    <text x="32" y="174" class="label" fill="#ffffff">Alumni Networking (NewLinkFolio)</text>
    <text x="32" y="194" class="small" fill="#ffffff">Mentorship · Networking · Portfolios</text>

    <!-- Drive/Company Service -->
    <rect x="360" y="150" width="220" height="70" rx="8" class="service" filter="url(#shadow)" />
    <text x="374" y="174" class="label" fill="#ffffff">Drive / Company Service</text>
    <text x="374" y="194" class="small" fill="#ffffff">Company profiles · Recruiter workflows</text>

    <!-- AI Integration Service -->
    <rect x="602" y="150" width="220" height="70" rx="8" class="ai" filter="url(#shadow)" />
    <text x="616" y="174" class="label" fill="#ffffff">AI Integration Service</text>
    <text x="616" y="194" class="small" fill="#ffffff">AI resume analyzer · model inference · queued jobs</text>

    <!-- Analytics Service -->
    <rect x="18" y="246" width="220" height="64" rx="8" class="ops" filter="url(#shadow)" />
    <text x="32" y="268" class="label">Analytics Service</text>
    <text x="32" y="286" class="small">Placement metrics · dashboards</text>

    <!-- Message Queue / Async -->
    <rect x="260" y="246" width="220" height="64" rx="8" fill="#ffffff" stroke="#d1d5db" class="box" />
    <text x="274" y="268" class="label" fill="#111827">Message Queue</text>
    <text x="274" y="286" class="small" fill="#374151">RabbitMQ / Kafka (async jobs)</text>

  </g>

  <!-- Arrow from Gateway to Cluster -->
  <path d="M660 175 L720 175" class="line" />
  <text x="640" y="165" class="small">gRPC / REST (internal)</text>

  <!-- Data Layer (right) -->
  <g transform="translate(1420,160)">
    <!-- MongoDB cylinder -->
    <ellipse cx="0" cy="0" rx="64" ry="18" class="data" />
    <rect x="-64" y="0" width="128" height="88" rx="8" class="data" />
    <ellipse cx="0" cy="88" rx="64" ry="18" class="data" />
    <text x="-44" y="40" class="label" fill="#ffffff">MongoDB</text>
    <text x="-44" y="60" class="small" fill="#ffffff">Users · Drives · Applications</text>
  </g>

  <!-- Postgres -->
  <g transform="translate(1420,320)">
    <ellipse cx="0" cy="0" rx="64" ry="18" fill="#ecfccb" stroke="#84cc16" />
    <rect x="-64" y="0" width="128" height="88" rx="8" fill="#ecfccb" stroke="#84cc16" />
    <ellipse cx="0" cy="88" rx="64" ry="18" fill="#ecfccb" stroke="#84cc16" />
    <text x="-40" y="40" class="label" fill="#065F46">Postgres</text>
    <text x="-40" y="60" class="small" fill="#065F46">Transactional data / ACID</text>
  </g>

  <!-- Blob Storage -->
  <g transform="translate(1420,480)">
    <rect x="-72" y="0" width="144" height="84" rx="8" class="muted" stroke="#10B981" />
    <text x="-52" y="36" class="label">Blob Storage / CDN</text>
    <text x="-52" y="56" class="small">Resumes / Portfolio assets</text>
  </g>

  <!-- AI Model Store -->
  <g transform="translate(1420,600)">
    <rect x="-72" y="0" width="144" height="64" rx="8" class="ai" />
    <text x="-48" y="36" class="label" fill="#ffffff">AI Model Store</text>
    <text x="-48" y="54" class="small" fill="#ffffff">Model artifacts / feature store</text>
  </g>

  <!-- Arrows from cluster to data -->
  <path d="M1250 220 L1370 200" class="line" />
  <path d="M1250 300 L1370 320" class="line" />
  <path d="M1250 380 L1370 460" class="line" />
  <path d="M1250 500 L1370 620" class="line" />

  <!-- Cross-cutting concerns -->
  <g transform="translate(60,640)">
    <rect x="0" y="0" width="410" height="120" rx="10" class="legend-box" />
    <text x="18" y="22" class="label">Cross-cutting concerns</text>
    <text x="18" y="44" class="small">Security & Identity: JWT authentication, RBAC, permission checks, TLS</text>
    <text x="18" y="64" class="small">Observability: ELK, Prometheus, Jaeger</text>
    <text x="18" y="84" class="small">CI/CD & GitOps · Auto-scaling · Multi-AZ deployment</text>
  </g>

  <!-- Legend -->
  <g transform="translate(480,640)">
    <rect x="0" y="0" width="320" height="120" rx="10" class="legend-box" />
    <text x="18" y="22" class="label">Legend</text>
    <rect x="18" y="36" width="18" height="12" fill="#2563EB" />
    <text x="44" y="46" class="small">Frontend (React)</text>
    <rect x="18" y="58" width="18" height="12" fill="#374151" />
    <text x="44" y="68" class="small">API Gateway / Load Balancer</text>
    <rect x="18" y="80" width="18" height="12" fill="#6D28D9" />
    <text x="44" y="90" class="small">Microservices (Node.js / Containers)</text>
  </g>

  <!-- Footer caption -->
  <text x="40" y="860" class="small">Figure: PREPLINK system architecture — four-tier microservices, AI integration, NewLinkFolio alumni networking, JWT auth, RBAC, and cloud-native orchestration.</text>

</svg>